<aside class="sidebar">
  <app-sidebar *ngIf="showSidebar"></app-sidebar>
  <!-- Logo -->
  <div class="logo-section">
    <img src="assets/images/mindscape-logo.png" alt="Mindscape Logo" class="logo">
    <span class="logo-text">Mindscape</span>
  </div>

  <!-- User Info -->
  <div class="user-profile" *ngIf="currentUser; else loginPrompt">
    <div class="user-avatar">
      <img [src]="getUserAvatar()" [alt]="currentUser.name + ' Avatar'">
    </div>
    <div class="user-info">
      <p class="user-name">{{ getUserName() }}</p>
      <span class="user-status">{{ getUserRoleText() }}</span>
    </div>
  </div>

  <!-- Login prompt for guests -->
  <ng-template #loginPrompt>
    <div class="login-prompt">
      <a routerLink="/login" class="login-link">
        <i class="icon login-icon"></i>
        <span>Login / Register</span>
      </a>
    </div>
  </ng-template>

  <!-- Navigation links -->
  <nav class="side-nav" *ngIf="currentUser">
    <ul>
      <li class="nav-item" *ngFor="let item of navItems" routerLinkActive="active">
        <a [routerLink]="item.route" class="nav-link">
          <i class="icon" [ngClass]="item.icon"></i>
          <span>{{ item.label }}</span>
        </a>
      </li>
    </ul>
  </nav>

  <!-- Footer with Crisis Help and Logout -->
  <div class="sidebar-footer">
    <a routerLink="/crisis" class="crisis-help">
      <i class="icon crisis-icon"></i>
      <span>Crisis Support</span>
    </a>

    <a *ngIf="currentUser" (click)="logout()" class="logout-btn">
      <i class="icon logout-icon"></i>
      <span>Logout</span>
    </a>
  </div>
</aside>
